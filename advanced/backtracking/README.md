# 回溯

回溯的本质是穷举。

在 Top-down 的递归过程中，到达最底层调用之后会逐层返回上层的函数，这一步骤称之为回溯。通过回溯，可以穷举所有的可能性，对于某些复杂问题，这是唯一的解决方法。由此也可以看出，回溯的复杂度并不低，类似 DFS，但过程中也可以通过剪枝来降低搜索的次数。

在回溯的过程中，主要涉及到横向和纵向两种分布。因为回溯可以看作是一种树形结构，所以横向指的就是对于某个节点，有多少个子节点需要遍历；而纵向表示每个子节点往下层延伸，到达叶子节点有多少层。横向代表了树的宽度，而纵向代表了树的深度。

回溯一般用于解决几类问题：

- 组合：一个数组中找出符合规则的 N 个数
- 排列：一个数组找出符合要求的所有可能排列
- 棋盘：八皇后、数独等

实现的伪代码逻辑如下：

```python
def bt(*args, **kwargs):
    # Base case
    if sth:
        return
    # Iterate children nodes
    for i in elements:
        # Process
        do_sth(i)
        # Recursion
        bt(...)
        # Undo process
        undo_sth(i)
```

在循环中，递归调用之后，通过撤销之前的处理到检查所有可能性的效果，可以理解为到达一个叶子节点之后回到上一个父节点，再进入到一个新的叶子节点中。
